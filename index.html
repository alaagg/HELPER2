<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HELPAR — 3D Quantum Cube</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    html, body {
      margin: 0; padding: 0;
      height: 100vh;
      background: radial-gradient(circle at center, #010308 60%, #000 100%);
      font-family: monospace;
      color: #00ccff;
      overflow: hidden;
    }
    #neonMessage {
      text-align: center;
      font-size: 1.5em;
      margin-top: 3vh;
      text-shadow: 0 0 8px #00e7ff;
      letter-spacing: 1px;
    }
    .scene {
      width: 210px; height: 210px;
      margin: 40px auto 0 auto;
      perspective: 1200px;
      user-select: none;
      touch-action: none;
    }
    .cube {
      width: 200px; height: 200px;
      position: relative;
      transform-style: preserve-3d;
      animation: spin 8s linear infinite;
      transition: transform 1s cubic-bezier(.42,1.34,.7,.89);
    }
    .cube.paused { animation-play-state: paused; }
    .face {
      position: absolute;
      width: 200px; height: 200px;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      background: rgba(0, 0, 20, 0.92);
      border: 2px solid #00ccff33;
      box-shadow: 0 0 14px #00ccff33;
      font-size: 17px; font-weight: bold; color: #00ccff;
      cursor: pointer; text-align: center;
      user-select: none;
      transition: background 0.3s;
    }
    .face:hover { background: #021C27; }
    .front  { transform: rotateY(  0deg) translateZ(100px);}
    .back   { transform: rotateY(180deg) translateZ(100px);}
    .right  { transform: rotateY( 90deg) translateZ(100px);}
    .left   { transform: rotateY(-90deg) translateZ(100px);}
    .top    { transform: rotateX( 90deg) translateZ(100px);}
    .bottom { transform: rotateX(-90deg) translateZ(100px);}
    @keyframes spin {
      0%   { transform: rotateX(-20deg) rotateY(0deg);}
      100% { transform: rotateX(-20deg) rotateY(360deg);}
    }
    .overlay {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.96); color: #00ccff; font-family: monospace;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 9999; text-align: center; padding: 20px;
    }
    .overlay button {
      margin-top: 26px; padding: 12px 30px;
      font-size: 1em; background: #021c28;
      border: 2px solid #00ccff;
      border-radius: 12px; color: #00ccff;
      box-shadow: 0 0 8px #00ccff55;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- رسالة ترحيب -->
  <div id="neonMessage">👋 Welcome to HELPAR</div>
  <!-- مشهد المكعب -->
  <div class="scene">
    <div class="cube" id="cube">
      <div class="face front"  data-section="chat">💬<br>Quantum Chat</div>
      <div class="face back"   data-section="avatar">🎭<br>Avatar</div>
      <div class="face right"  data-section="trends">🌍<br>Trends</div>
      <div class="face left"   data-section="xp">💠<br>XP</div>
      <div class="face top"    data-section="time">🕒<br>Time</div>
      <div class="face bottom" data-section="voice">🎤<br>Voice</div>
    </div>
  </div>
  <script>
    // توقف/تشغيل الدوران عند الضغط على المكعب نفسه
    const cube = document.getElementById("cube");
    let spinning = true;
    cube.addEventListener("click", e => {
      cube.classList.toggle("paused");
      spinning = !spinning;
    });
    // فتح منبثق لكل وجه عند الضغط عليه
    document.querySelectorAll('.face').forEach(face => {
      face.addEventListener('click', function(e){
        e.stopPropagation(); // لا توقف دوران المكعب عند ضغط الوجه فقط
        showOverlay(this.dataset.section);
      });
    });
    // واجهات منبثقة لكل قسم
    function showOverlay(section) {
      const overlay = document.createElement('div');
      overlay.className = 'overlay';
      let content = '';
      switch(section) {
        case "chat":
          content = "<h2>Quantum Chat</h2><p>[نافذة محادثة GPT (للتفعيل لاحقًا)]</p>";
          break;
        case "avatar":
          content = `<h2>HELPar Avatar</h2>
            <p style="text-shadow:0 0 10px #00e7ff;">\"How can I help you today?\"</p>
            <div style="margin:25px auto 0 auto; border-radius:50%; width:72px; height:72px; background:radial-gradient(circle,#00ccff 10%,#012233 80%); box-shadow:0 0 16px #00e7ff99;"></div>`;
          break;
        case "trends":
          content = "<h2>Trends</h2><p>[ترندات الدولة/العالم (في التحديث القادم)]</p>";
          break;
        case "xp":
          const xp = localStorage.getItem('xp') || 0;
          content = `<h2>XP Points</h2><p>${xp} XP</p>`;
          break;
        case "time":
          const hour = new Date().getHours();
          content = `<h2>Time Mode</h2><p>${hour < 12 ? '☀️ Good Morning' : '🌙 Good Evening'}</p>`;
          break;
        case "voice":
          content = `<h2>🎤 Voice Mode</h2><p>Say \"chat\" or \"avatar\"...</p>`;
          activateVoice();
          break;
      }
      overlay.innerHTML = content + '<button onclick="this.parentElement.remove()">Close</button>';
      document.body.appendChild(overlay);
    }
    // تحكم صوتي (اختياري)
    function activateVoice() {
      if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {
        alert('Voice recognition not supported on your browser!');
        return;
      }
      const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      rec.lang = "en-US";
      rec.start();
      rec.onresult = (e) => {
        const command = e.results[0][0].transcript.toLowerCase();
        if (command.includes("chat")) showOverlay("chat");
        if (command.includes("avatar")) showOverlay("avatar");
      };
    }
  </script>
</body>
</html>
